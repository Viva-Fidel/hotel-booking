{% load static %}
<link
  rel="stylesheet"
  type="text/css"
  href="{% static 'css/partials/_navigation.css' %}"
/>

<nav class="header-menu">
  <ul class="header-menu__list">
    <li class="header-menu__item">
      <a href="/" class="header-menu__link">Home</a>
    </li>
    <li class="header-menu__item">
      <a href="/discover" class="header-menu__link">Discover</a>
    </li>
    <li class="header-menu__item">
      <a href="/activities" class="header-menu__link">Activities</a>
    </li>
    <li class="header-menu__item">
      <a href="/about" class="header-menu__link">About</a>
    </li>
    <li class="header-menu__item">
      <a href="/contact" class="header-menu__link">Contact</a>
    </li>
  </ul>
</nav>
{% if user.is_authenticated %}
<div class="header-user-profile-container">
  <img
    src="{% static 'images/partials/icons/notification.png' %}"
    alt="User notification"
    class="header-user-profile-container__notifications-icon"
  />
  <div class="header-user-profile-container__user-avatar">
    <img
      src="{% static 'images/partials/user.jpg' %}"
      class="header-user-profile-container_user-photo"
      alt="User Image"
      id="dropdown-trigger"
    />
    <div
      class="header-user-profile-container__dropdown-menu"
      id="dropdown-menu"
    >
      <div class="header-uer-profile-container__dropdown-menu-item-container">
        <a
          href="#"
          class="header-user-profile-container__dropdown-menu-item-link"
        >
          <img
            src="{% static 'images/partials/icons/account.svg' %}"
            alt="Account icon"
            class="header-user-profile-container__dropdown-menu-link-item-icon"
          />
          <span
            class="header-user-profile-container__dropdown-menu-link-item-text"
            >Manage account</span
          >
        </a>
      </div>
      <div class="header-uer-profile-container__dropdown-menu-item-container">
        <a
          href="#"
          class="header-user-profile-container__dropdown-menu-item-link"
        >
          <img
            src="{% static 'images/partials/icons/trips.svg' %}"
            alt="Account icon"
            class="header-user-profile-container__dropdown-menu-link-item-icon"
          />
          <span
            class="header-user-profile-container__dropdown-menu-link-item-text"
            >My trips</span
          >
        </a>
      </div>
      <div class="header-uer-profile-container__dropdown-menu-item-container">
        <a
          href="#"
          class="header-user-profile-container__dropdown-menu-item-link"
        >
          <img
            src="{% static 'images/partials/icons/wallet.svg' %}"
            alt="Account icon"
            class="header-user-profile-container__dropdown-menu-link-item-icon"
          />
          <span
            class="header-user-profile-container__dropdown-menu-link-item-text"
            >Reward and wallet</span
          >
        </a>
      </div>
      <div class="header-uer-profile-container__dropdown-menu-item-container">
        <a
          href="#"
          class="header-user-profile-container__dropdown-menu-item-link"
        >
          <img
            src="{% static 'images/partials/icons/signout.svg' %}"
            alt="Account icon"
            class="header-user-profile-container__dropdown-menu-link-item-icon"
          />
          <span
            class="header-user-profile-container__dropdown-menu-link-item-text"
            >Sign out</span
          >
        </a>
      </div>
    </div>
  </div>
</div>
{% else %}
<div class="header-button-container">
  <a href="/register" class="register-link"
    ><button class="header-button-container__register-button">
      Register
    </button></a
  >
  <a href="/signin" class="signin-link"
    ><button class="header-button-container__signin-button">Sign In</button></a
  >
</div>

{% endif %}

<script>
const avatar = document.getElementById('dropdown-trigger');
const dropdownMenu = document.getElementById('dropdown-menu');

avatar.addEventListener('click', function() {
  dropdownMenu.classList.toggle('show');
});

document.addEventListener('click', function(event) {
  const isClickInside = avatar.contains(event.target) || dropdownMenu.contains(event.target);
  if (!isClickInside) {
    dropdownMenu.classList.remove('show');
  }
});
</script>
